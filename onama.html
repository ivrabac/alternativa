<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Ivan Vrabac">
	<meta name="language" content="hr">
	<meta name="title" content="Alternativa za Hrvatsku (AzH) – O nama">
	<meta name="description" content="Službena stranica stranke Alternativa za Hrvatsku (AzH). Borimo se za suverenu, pravednu i slobodnu Hrvatsku – bez korupcije i nepravde. Pridružite nam se!">
	<meta name="keywords" content="Alternativa za Hrvatsku, AzH, politika, Hrvatska, suverenitet, politička stranka">
	<meta name="robots" content="index, follow">
    <title>Alternativa za Hrvatsku – O nama</title>
    <link rel="stylesheet" href="css/style.css">
	
	<meta property="og:title" content="Alternativa za Hrvatsku (AzH) – O nama">
	<meta property="og:description" content="Zalažemo se za suverenu, pravednu i slobodnu Hrvatsku. Pridružite nam se!">
	<meta property="og:image" content="https://alternativazahrvatsku.eu/pictures/logo.webp">
	<meta property="og:url" content="https://alternativazahrvatsku.eu/">

	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Alternativa za Hrvatsku (AzH) – O nama">
	<meta name="twitter:description" content="Zalažemo se za suverenu, pravednu i slobodnu Hrvatsku. Pridružite nam se!">
	<meta name="twitter:image" content="https://alternativazahrvatsku.eu/pictures/logo.webp">

	<link rel="canonical" href="https://alternativazahrvatsku.eu">
	
	<!-- Standard Favicon -->
	<link rel="icon" type="image/png" sizes="32x32" href="pictures/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="pictures/favicon/favicon-16x16.png">

	<!-- Apple Touch Icon (For iPhones, iPads) -->
	<link rel="apple-touch-icon" sizes="180x180" href="pictures/favicon/apple-touch-icon.png">

	<!-- Android & Chrome Icons -->
	<link rel="icon" type="image/png" sizes="192x192" href="pictures/favicon/android-chrome-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="pictures/favicon/android-chrome-512x512.png">

	<!-- Favicon for Older Browsers -->
	<link rel="shortcut icon" href="pictures/favicon/favicon.ico">

	<!-- Web App Manifest (For Progressive Web Apps - Optional) -->
	<link rel="manifest" href="pictures/favicon/site.webmanifest">

	<script src="https://sdk.minepi.com/pi-sdk.js"></script>

	<script>

		
const Pi = window.Pi;

// Empty array for testing purposes (can be updated with necessary scopes)
const scopes = ['username','payments'];

// Empty function that will log an incomplete payment if found
function onIncompletePaymentFound(payment) {
  console.log("Incomplete payment found:", payment);
}

// Initialize Pi and automatically authenticate
Pi.init({ version: "2.0", sandbox: true });

window.isAuthenticated = false;

// Authenticate automatically when the page loads
Pi.authenticate(scopes, onIncompletePaymentFound).then(function(auth) {
  console.log("Authenticated:", auth.user);
  window.isAuthenticated = true;
}).catch(function(error) {
  console.error("Authentication error:", error);
  alert("Please log in via the Pi Browser and authenticate yourself.");
});

// Function to start the payment process
function startPayment() {
  if (!window.isAuthenticated) {
    alert("Please log in through the Pi Browser and authenticate your account. If you’ve already done so, kindly wait a moment and try again.");
    return;
  }

  console.log("Starting payment process...");
  Pi.createPayment({
    amount: 0.1,
    memo: "Support donation 🙌",
    metadata: { source: window.location.pathname }
  }, {
    // Callback for when payment is ready for server approval
    onReadyForServerApproval: function(paymentId) {
      console.log("Payment ready for server approval:", paymentId);
      fetch("/.netlify/functions/approve-payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ paymentId })
      })
      .then(response => response.json())
      .then(data => console.log("Payment approved:", data))
      .catch(error => console.error("Error during approval:", error));
    },

    // Callback for when payment is ready for completion
    onReadyForServerCompletion: function(paymentId, txid) {
      console.log("Payment ready for server completion:", paymentId, txid);
      fetch("/.netlify/functions/complete-payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ paymentId, txid })
      })
      .then(response => response.json())
      .then(data => console.log("Payment completed:", data))
      .catch(error => console.error("Error during completion:", error));
    },

    // Callback for when payment is canceled
    onCancel: function(paymentId) {
      console.log("User canceled payment:", paymentId);
    },

    // Callback for handling any errors during the payment process
    onError: function(error, payment) {
      console.error("Payment error:", error, payment);
    }
  });
}


	</script>


</head>
<body>

<header>
    <div class="logo">
            <a href="/"><img src="pictures/logo.webp" alt="Alternativa za Hrvatsku - Logo"></a>
    </div>
	<nav>
	<ul class="povratak">
            <li><a href="/">Povratak</a></li>
        </ul>
	</nav>
</header>

<main>
	<a href="#" onclick="startPayment()">TEST 0.1 PI</a>
    <h2>Alternativa za Hrvatsku je tu da stvori pravi put prema pravednijem društvu i budućnosti.</h2>
    <p>Mi smo.. obični i neobični građani koji se borimo za bolje društvo!</p>
    <h2>STRANICA U IZRADI</h2>
	<p>Unaprijed isprike za neočekivanu funkcionalnost stranice. Trenutno smo mali tim i mala stranka te jedna osoba radi na održavanju stranice. Kolačići na našoj stranici ne postoje jer nam je Vaša privatnost na prvom mjestu. Ne prodajemo vaše podatke kao ostale političke stranke već isključivo ovisimo o Vašim donacijama!</p>
</main>
<footer>
<p>&copy; 2025 AzH</p>
</footer>
</body>
</html>
